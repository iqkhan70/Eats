# Copy to secrets.env and uncomment/fill. Deploy reads this when generating server .env.
# Every parameter deploy.sh writes to server .env can be set here (optional unless noted).

# ---------- Build / push (single repo, DOCR 1-repo limit; like mental health app) ----------
# REPO_NAME must be kram â€“ same as .github/workflows/deploy-staging.yml IMAGE_REPOSITORY (workflow pushes to kram).
# REGISTRY=registry.digitalocean.com/cha-registry
# REPO_NAME=kram
# DIGITALOCEAN_ACCESS_TOKEN=your_do_api_token
# SSH_KEY_PATH=$HOME/.ssh/id_rsa
# (Deploy never builds on your Mac; build-on-server builds on the Droplet and pushes to DOCR.)

# ---------- App base URL and HTTPS (optional) ----------
# Staging: defaults to https://www.caseflowstage.store; HTTP + HTTPS. Production: defaults to http://DROPLET_IP; HTTPS only (HTTP redirects).
# Override: APP_BASE_URL=... or STAGING_BASE_URL=... or PRODUCTION_BASE_URL=...
# For HTTPS you need a domain and Let's Encrypt certs; set STAGING_DOMAIN / PRODUCTION_DOMAIN (or use https:// in base URL).
# APP_BASE_URL=https://www.caseflowstage.store
# STAGING_BASE_URL=https://www.caseflowstage.store
# STAGING_DOMAIN=www.caseflowstage.store
# PRODUCTION_BASE_URL=https://www.kram.tech
# PRODUCTION_DOMAIN=www.kram.tech
# CORS_ALLOWED_ORIGINS_OVERRIDE=  # Optional: comma-separated list (auto-generated from DOMAIN if not set)
#                                 # Staging example: www.caseflowstage.store,caseflowstage.store
#                                 # Production example: www.kram.tech,kram.tech

# ---------- Generated on first deploy; override here only if you need fixed values ----------
# MYSQL_ROOT_PASSWORD=
# RABBITMQ_PASSWORD=
# JWT_SECRET=
# RABBITMQ_USER=admin
# JWT_ISSUER=Kram
# JWT_AUDIENCE=Kram
# ASPNETCORE_ENVIRONMENT=Staging   # or Production
# ENCRYPTION_MASTER_KEY=YourSuperSecretEncryptionKeyThatIsAtLeast32CharactersLong!  # For PII encryption (phone numbers, etc.)

# ---------- NotificationService: Email ----------
# EMAIL_ENABLED=true
# EMAIL_PROVIDER=Mailgun
# EMAIL_MAILGUN_API_KEY=
# EMAIL_MAILGUN_DOMAIN=
# EMAIL_FROM_EMAIL=noreply@kram.com
# EMAIL_FROM_NAME=Kram
# EMAIL_SMTP_HOST=smtp.gmail.com
# EMAIL_SMTP_PORT=587
# EMAIL_SMTP_USERNAME=
# EMAIL_SMTP_PASSWORD=
# EMAIL_ENABLE_SSL=true

# ---------- NotificationService: Vonage (SMS) ----------
# VONAGE_ENABLED=false
# VONAGE_API_KEY=
# VONAGE_API_SECRET=
# VONAGE_FROM_NUMBER=

# ---------- PaymentService: Stripe ----------
# STRIPE_SECRET_KEY=
# STRIPE_PUBLISHABLE_KEY=
# STRIPE_WEBHOOK_SECRET=
# STRIPE_CONNECT_RETURN_URL=   (defaults to APP_BASE_URL from DROPLET_IP or domain; port 80/443)

# ---------- Internal service-to-service auth (recommended in production) ----------
# Used by PaymentService and ChatService -> OrderService internal endpoints (webhooks, order chat).
# ORDER_SERVICE_BASE_URL=http://order-service:5002
# ORDER_SERVICE_INTERNAL_API_KEY=change_me_strong

# ---------- AIService: OpenAI + Ollama ----------
# OLLAMA_BASE_URL=http://ollama:11434
# OPENAI_API_KEY=

# ---------- Admin user seeding (runs after deploy) ----------
# SEED_ADMIN=true                    # Set to false to skip admin seeding
# ADMIN_EMAIL=admin@kram.com
# ADMIN_PASSWORD=Admin123!           # Change this in production!


# ---------- DocumentService: DigitalOcean Spaces (S3-compatible) ----------
# DIGITALOCEAN_SPACES_BUCKET_NAME=kram-content
# DIGITALOCEAN_SPACES_ACCESS_KEY=your_access_key
# DIGITALOCEAN_SPACES_SECRET_KEY=your_secret_key
# DIGITALOCEAN_SPACES_REGION=sfo3
# DIGITALOCEAN_SPACES_SERVICE_URL=https://sfo3.digitaloceanspaces.com
# DIGITALOCEAN_SPACES_FOLDER=content/
