# TraditionalEats – All env vars (from appsettings across Identity, Notification, Payment, Chat, BFFs, etc.)
# Used by: docker-compose.prod.yml, deploy.sh
# For staging: put your values in secrets.env (gitignored); deploy.sh uses them when generating server .env.
# This file documents every parameter; values here are defaults/placeholders.

# ---------- Deploy / App ----------
# Staging: ./deploy.sh staging → APP_BASE_URL defaults to https://www.caseflowstage.store (or STAGING_BASE_URL). Production: defaults to http://DROPLET_IP (or PRODUCTION_BASE_URL). Override APP_BASE_URL in secrets.env to force.
ASPNETCORE_ENVIRONMENT=Staging
# APP_BASE_URL set by script: staging → https://www.caseflowstage.store, prod → http://DROPLET_IP. Or set STAGING_BASE_URL / PRODUCTION_BASE_URL / APP_BASE_URL in secrets.env.

# ---------- MySQL (all services use root + this password) ----------
MYSQL_ROOT_PASSWORD=UthmanBasima70

# ---------- RabbitMQ ----------
RABBITMQ_USER=admin
RABBITMQ_PASSWORD=change_me_strong

# ---------- Redis (compose uses redis:6379; this for reference) ----------
# REDIS_CONNECTION_STRING=redis:6379

# ---------- JWT (Identity, BFFs, ChatService) ----------
JWT_SECRET=YourSuperSecretKeyThatIsAtLeast32CharactersLong!
JWT_ISSUER=TraditionalEats
JWT_AUDIENCE=TraditionalEats

# ---------- IdentityService: AppSettings.BaseUrl, Services.NotificationService ----------
# (APP_BASE_URL above; NotificationService URL set in compose)

# ---------- NotificationService: Email (Mailgun + SMTP fallback) ----------
EMAIL_ENABLED=true
EMAIL_PROVIDER=Mailgun
EMAIL_MAILGUN_API_KEY=
EMAIL_MAILGUN_DOMAIN=
EMAIL_FROM_EMAIL=noreply@traditionaleats.com
EMAIL_FROM_NAME=TraditionalEats
EMAIL_SMTP_HOST=smtp.gmail.com
EMAIL_SMTP_PORT=587
EMAIL_SMTP_USERNAME=
EMAIL_SMTP_PASSWORD=
EMAIL_ENABLE_SSL=true

# ---------- NotificationService: Vonage (SMS) ----------
VONAGE_ENABLED=false
VONAGE_API_KEY=
VONAGE_API_SECRET=
VONAGE_FROM_NUMBER=

# ---------- PaymentService: Stripe ----------
STRIPE_SECRET_KEY=
STRIPE_PUBLISHABLE_KEY=
STRIPE_WEBHOOK_SECRET=
# Defaults to APP_BASE_URL (http://DROPLET_IP or https://your-domain; port 80/443). Leave empty to use that.
STRIPE_CONNECT_RETURN_URL=

# ---------- AIService: OpenAI + Ollama (in stack; set OPENAI_API_KEY in secrets.env for staging) ----------
OLLAMA_BASE_URL=http://ollama:11434
OPENAI_API_KEY=

# ---------- ChatService: HttpClients (set in compose; no .env needed) ----------
# HttpClients__OrderService__BaseAddress, HttpClients__RestaurantService__BaseAddress

# ---------- WebApp (edge build): API base (from APP_BASE_URL in Dockerfile.edge) ----------
# API_BASE_URL set at build time from APP_BASE_URL

# ---------- Build / Registry (single repo, DOCR 1-repo limit; like mental health app) ----------
# One repository, tags = service name (identity-service, customer-service, ...)
REGISTRY=registry.digitalocean.com/cha-registry
REPO_NAME=traditionaleats

# ---------- Optional: DigitalOcean (for deploy.sh build + push) ----------
# DIGITALOCEAN_ACCESS_TOKEN=
# SSH_KEY_PATH=$HOME/.ssh/id_rsa
